<div>
  <button (click)="save()">Save</button>
  <button (click)="laod()">Laod</button>
  <h2>create</h2>
  <div class="buttons">
    <button
      [class.active]="sketchService.activeTool() === 'point'"
      (click)="sketchService.create('point')"
    >
      point
    </button>
    <button
      [class.active]="sketchService.activeTool() === 'circle'"
      (click)="sketchService.create('circle')"
    >
      circle
    </button>

    <button
      [class.active]="sketchService.activeTool() === 'polygon'"
      (click)="sketchService.create('polygon')"
    >
      polygon
    </button>
    <button
      [class.active]="sketchService.activeTool() === 'rectangle'"
      (click)="sketchService.create('rectangle')"
    >
      rectangle
    </button>
  </div>
  <hr />
  <details>
    <summary>Fill</summary>
    <label>
      <span>Color: </span>
      <input
        (change)="fillColorChange($event)"
        type="color"
        [value]="sketchService.fillColor.toHex()"
      />
    </label>
    <br />
    <label>
      <span>Opacity: </span>
      <input
        (change)="fillOpacityChange($event)"
        [value]="sketchService.fillOpacity"
        type="range"
        min="0"
        step="0.1"
        max="1"
      />
    </label>
  </details>
  <details>
    <summary>Outline</summary>
    <label>
      <span>Color: </span>
      <input
        (change)="outlineColorChange($event)"
        type="color"
        [value]="sketchService.outlineColor"
      />
    </label>
    <br />
    <label>
      <span>Opacity: </span>
      <input
        (change)="outlineOpacityChange($event)"
        [value]="sketchService.outlineOpacity"
        type="range"
        min="0"
        step="0.1"
        max="1"
      />
    </label>
    <br />
    <label
      >Width:
      <input
        type="number"
        [value]="sketchService.width"
        (change)="setWidth($event)"
      />
    </label>
  </details>
  <details>
    <summary>Text</summary>
    <div class="buttons">
      <button
        [class.active]="sketchService.activeTool() === 'text'"
        (click)="sketchService.create('text')"
      >
        text
      </button>
    </div>
    <br />
    <label>
      Text: <input [value]="sketchService.text" (change)="setText($event)" />
    </label>
    <br />
    <label>
      Font Size:
      <input
        type="number"
        [value]="sketchService.fontSize"
        (change)="setFontSize($event)"
      />
    </label>
    <br />
    <label>
      <span>Text Color: </span>
      <input
        (change)="textColorChange($event)"
        type="color"
        [value]="sketchService.textColor.toHex()"
      />
    </label>
  </details>
  <details>
    <summary>Line</summary>
    <div class="buttons">
      <button
        [class.active]="sketchService.activeTool() === 'polyline'"
        (click)="sketchService.create('polyline')"
      >
        polyline
      </button>
      <button
        [class.active]="sketchService.activeTool() === 'freehand'"
        (click)="sketchService.create('freehand')"
      >
        freehand
      </button>
    </div>
    <hr />
    <div>
      @for (type of stroke.type; track $index) {
      <div>
        @for (dualiy of stroke.dualiy; track $index) {
        <button (click)="sketchService.lineStroke = {type,dualiy}">
          {{ type }}-{{ dualiy }}
        </button>
        }
      </div>
      }
    </div>
    <label>
      <span>Color: </span>
      <input
        (change)="lineColorChange($event)"
        type="color"
        [value]="sketchService.outlineColor"
      />
    </label>
    <hr />
    <label>
      <span>Size: </span>
      <input (change)="lienSizeChange($event)" type="number" />
    </label>
  </details>
  <details>
    <summary>Icons</summary>
    <div class="icon-grid">
      @for (src of icons; track $index) {
      <button class="create-icon" (click)="sketchService.create('icon')">
        <img [src]="src" />
      </button>
      }
    </div>
  </details>
</div>
